  ---
// Composant de démonstration du Box Model
// Permet de visualiser la différence entre content-box et border-box
---

<div class="iad-demo" x-data="{
  boxSizing: 'border-box',
  width: 300,
  padding: 20,
  border: 5,
  margin: 10,
  get totalWidth() {
    if (this.boxSizing === 'border-box') {
      return this.width;
    }
    return this.width + (this.padding * 2) + (this.border * 2);
  },
  get contentWidth() {
    if (this.boxSizing === 'border-box') {
      return this.width - (this.padding * 2) - (this.border * 2);
    }
    return this.width;
  }
}">
  <div class="iad-demo-header">
    <h3>Box sizing</h3>
  </div>
  <div class="iad-controls">
    <div class="iad-control-group">
      <div class="iad-radio-group">
        <label class="iad-radio-label">
          <input type="radio" x-model="boxSizing" value="content-box" class="iad-radio">
          content-box (défaut)
        </label>
        <label class="iad-radio-label">
          <input type="radio" x-model="boxSizing" value="border-box" class="iad-radio">
          border-box (recommandé)
        </label>
      </div>
    </div>

    <div class="iad-controls-grid">
      <div class="iad-slider-group">
        <label class="iad-label-inline">
          <span>width</span>
          <strong x-text="width + 'px'"></strong>
        </label>
        <input type="range" x-model="width" min="100" max="400" step="10" class="iad-slider">
      </div>

      <div class="iad-slider-group">
        <label class="iad-label-inline">
          <span>padding</span>
          <strong x-text="padding + 'px'"></strong>
        </label>
        <input type="range" x-model="padding" min="0" max="50" step="5" class="iad-slider">
      </div>

      <div class="iad-slider-group">
        <label class="iad-label-inline">
          <span>border</span>
          <strong x-text="border + 'px'"></strong>
        </label>
        <input type="range" x-model="border" min="0" max="20" step="1" class="iad-slider">
      </div>

      <div class="iad-slider-group">
        <label class="iad-label-inline">
          <span>margin</span>
          <strong x-text="margin + 'px'"></strong>
        </label>
        <input type="range" x-model="margin" min="0" max="40" step="5" class="iad-slider">
      </div>
    </div>
  </div>

  <div class="iad-visualization">
    <div class="box-wrapper" :style="`padding: ${margin}px`">
      <div class="box-margin" :style="`padding: ${margin}px; background: rgba(255, 193, 7, 0.2);`">
        <div class="box-border" :style="`border: ${border}px solid #E74C3C; padding: ${padding}px; width: ${width}px; box-sizing: ${boxSizing}; background: rgba(78, 205, 196, 0.3);`">
          <div class="box-content" style="background: rgba(93, 95, 239, 0.3); padding: 1rem; text-align: center; font-weight: 600;">
            Contenu
          </div>
        </div>
      </div>
    </div>

    <div class="iad-measurements">
      <div class="iad-measurement-item">
        <span class="iad-measurement-label">Largeur du contenu :</span>
        <strong x-text="contentWidth + 'px'"></strong>
      </div>
      <div class="iad-measurement-item">
        <span class="iad-measurement-label">Largeur totale (avec margin) :</span>
        <strong x-text="(totalWidth + margin * 2) + 'px'"></strong>
      </div>
      <div class="iad-measurement-item" x-show="boxSizing === 'content-box'" style="color: #E74C3C;">
        ⚠️ Attention : la largeur totale dépasse la valeur de width !
      </div>
      <div class="iad-measurement-item" x-show="boxSizing === 'border-box'" style="color: #2ECC71;">
        ✅ La largeur de l'élément = width (plus prévisible)
      </div>
    </div>
  </div>

  <div class="iad-code-output">
    <p><strong>Code CSS généré :</strong></p>
    <div class="iad-code-block">
      <div class="iad-code-block__line">.box &#123;</div>
      <div class="iad-code-block__line"><span class="iad-code-block__indent"></span>box-sizing: <span x-text="boxSizing"></span>;</div>
      <div class="iad-code-block__line"><span class="iad-code-block__indent"></span>width: <span x-text="width + 'px'"></span>;</div>
      <div class="iad-code-block__line"><span class="iad-code-block__indent"></span>padding: <span x-text="padding + 'px'"></span>;</div>
      <div class="iad-code-block__line"><span class="iad-code-block__indent"></span>border: <span x-text="border + 'px'"></span> solid #E74C3C;</div>
      <div class="iad-code-block__line"><span class="iad-code-block__indent"></span>margin: <span x-text="margin + 'px'"></span>;</div>
      <div class="iad-code-block__line">&#125;</div>
    </div>
  </div>
</div>

<style>

  /* Styles spécifiques à BoxModelDemo */
  .box-wrapper {
    display: inline-block;
    background: rgba(255, 193, 7, 0.1);
    border: 2px dashed rgba(255, 193, 7, 0.5);
  }

  .box-margin {
    border-radius: 0.25rem;
  }

  .box-border {
    background-clip: padding-box;
  }

  .box-content {
    border-radius: 0.25rem;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
</style>
