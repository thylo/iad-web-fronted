---
// Composant de démonstration de object-fit
// Compare visuellement les différentes valeurs
---

<div class="object-fit-demo" x-data="{
  objectFit: 'cover',
  width: 300,
  height: 200,
  imageUrl: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800'
}">
  
  <div class="controls">
    <div class="control-group">
      <label><strong>object-fit :</strong></label>
      <select x-model="objectFit">
        <option value="cover">cover</option>
        <option value="contain">contain</option>
        <option value="fill">fill</option>
        <option value="none">none</option>
        <option value="scale-down">scale-down</option>
      </select>
    </div>

    <div class="slider-group">
      <label>
        Largeur du conteneur : <strong x-text="width + 'px'"></strong>
      </label>
      <input type="range" x-model="width" min="150" max="400" step="10">
    </div>

    <div class="slider-group">
      <label>
        Hauteur du conteneur : <strong x-text="height + 'px'"></strong>
      </label>
      <input type="range" x-model="height" min="100" max="400" step="10">
    </div>
  </div>

  <div class="visualization">
    <div class="single-demo">
      <h4>Aperçu avec <code x-text="objectFit"></code></h4>
      <div 
        class="image-container"
        :style="`width: ${width}px; height: ${height}px;`"
      >
        <img 
          :src="imageUrl" 
          alt="Démonstration object-fit"
          :style="`object-fit: ${objectFit};`"
        >
      </div>
      <p class="description" x-show="objectFit === 'cover'">
        L'image couvre tout le conteneur. Peut rogner l'image si les proportions diffèrent.
      </p>
      <p class="description" x-show="objectFit === 'contain'">
        L'image entière est visible. Peut laisser des espaces vides si les proportions diffèrent.
      </p>
      <p class="description" x-show="objectFit === 'fill'">
        L'image remplit le conteneur. Peut déformer l'image si les proportions diffèrent.
      </p>
      <p class="description" x-show="objectFit === 'none'">
        L'image garde sa taille originale. Peut déborder ou laisser des espaces.
      </p>
      <p class="description" x-show="objectFit === 'scale-down'">
        L'image utilise la plus petite taille entre "contain" et "none".
      </p>
    </div>
  </div>

  <div class="comparison-grid">
    <h4>Comparaison de toutes les valeurs</h4>
    <div class="grid">
      <div class="grid-item">
        <div class="label">cover</div>
        <div class="mini-container">
          <img :src="imageUrl" alt="cover" style="object-fit: cover;">
        </div>
      </div>
      <div class="grid-item">
        <div class="label">contain</div>
        <div class="mini-container">
          <img :src="imageUrl" alt="contain" style="object-fit: contain;">
        </div>
      </div>
      <div class="grid-item">
        <div class="label">fill</div>
        <div class="mini-container">
          <img :src="imageUrl" alt="fill" style="object-fit: fill;">
        </div>
      </div>
      <div class="grid-item">
        <div class="label">none</div>
        <div class="mini-container">
          <img :src="imageUrl" alt="none" style="object-fit: none;">
        </div>
      </div>
      <div class="grid-item">
        <div class="label">scale-down</div>
        <div class="mini-container">
          <img :src="imageUrl" alt="scale-down" style="object-fit: scale-down;">
        </div>
      </div>
    </div>
  </div>

  <div class="code-output">
    <p><strong>Code CSS généré :</strong></p>
    <div class="code-block">
      <div>.image-container &#123;</div>
      <div>  width: <span x-text="width + 'px'"></span>;</div>
      <div>  height: <span x-text="height + 'px'"></span>;</div>
      <div>&#125;</div>
      <div></div>
      <div>.image-container img &#123;</div>
      <div>  width: 100%;</div>
      <div>  height: 100%;</div>
      <div>  object-fit: <span x-text="objectFit"></span>;</div>
      <div>&#125;</div>
    </div>
  </div>
</div>

<style>
  .object-fit-demo {
    background: #f8f9fa;
    border: 2px solid #e1e8ed;
    border-radius: 0.75rem;
    padding: 1.5rem;
    margin: 2rem 0;
  }

  .controls {
    margin-bottom: 2rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .control-group label,
  .slider-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
  }

  .control-group select {
    width: 100%;
    max-width: 300px;
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: 0.25rem;
    background: white;
    cursor: pointer;
    font-size: 0.95rem;
  }

  .slider-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .slider-group label {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .slider-group input[type="range"] {
    width: 100%;
    cursor: pointer;
  }

  .visualization {
    margin: 2rem 0;
    padding: 2rem;
    background: white;
    border-radius: 0.5rem;
  }

  .single-demo h4 {
    margin: 0 0 1rem 0;
    text-align: center;
    color: #2c3e50;
  }

  .single-demo h4 code {
    background: #e8f4f8;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    color: #0066cc;
    font-size: 1rem;
  }

  .image-container {
    margin: 0 auto;
    border: 3px solid #3498db;
    border-radius: 0.5rem;
    overflow: hidden;
    background: #f0f0f0;
    background-image: 
      linear-gradient(45deg, #ddd 25%, transparent 25%),
      linear-gradient(-45deg, #ddd 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ddd 75%),
      linear-gradient(-45deg, transparent 75%, #ddd 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
  }

  .image-container img {
    width: 100%;
    height: 100%;
    display: block;
  }

  .description {
    margin-top: 1rem;
    text-align: center;
    color: #666;
    font-size: 0.95rem;
    line-height: 1.6;
  }

  .comparison-grid {
    margin: 2rem 0;
  }

  .comparison-grid h4 {
    margin: 0 0 1rem 0;
    color: #2c3e50;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
  }

  .grid-item {
    background: white;
    border: 2px solid #e1e8ed;
    border-radius: 0.5rem;
    padding: 1rem;
    text-align: center;
  }

  .grid-item .label {
    font-weight: 600;
    margin-bottom: 0.75rem;
    color: #5D5FEF;
    font-family: monospace;
  }

  .mini-container {
    width: 100%;
    height: 150px;
    border: 2px solid #ddd;
    border-radius: 0.25rem;
    overflow: hidden;
    background: #f0f0f0;
    background-image: 
      linear-gradient(45deg, #e8e8e8 25%, transparent 25%),
      linear-gradient(-45deg, #e8e8e8 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #e8e8e8 75%),
      linear-gradient(-45deg, transparent 75%, #e8e8e8 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
  }

  .mini-container img {
    width: 100%;
    height: 100%;
    display: block;
  }

  .code-output {
    margin-top: 1.5rem;
    padding: 1rem;
    background: #1e1e1e;
    color: #d4d4d4;
    border-radius: 0.5rem;
    font-family: 'Monaco', 'Menlo', monospace;
    font-size: 0.85rem;
  }

  .code-output pre {
    margin: 0.5rem 0 0 0;
  }

  .code-output code {
    color: #d4d4d4;
  }

  .code-output span {
    color: #4EC9B0;
  }

  .code-output strong {
    color: #ffc107;
  }
</style>
