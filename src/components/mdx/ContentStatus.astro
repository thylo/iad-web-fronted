---
interface Props {
  status: 'draft' | 'beta' | 'stable' | 'archived';
  version?: string;
  lastUpdated: string;
}

const { status, version, lastUpdated } = Astro.props;

const styles = {
  draft: { bg: '#6b7280', label: 'DRAFT' },
  beta: { bg: '#f59e0b', label: 'BETA' },
  stable: { bg: '#10b981', label: 'STABLE' },
  archived: { bg: '#dc2626', label: 'ARCHIVED' }
};

const current = styles[status];

// Formater la date en français
const formatDate = (dateString: string) => {
  const date = new Date(dateString);
  return date.toLocaleDateString('fr-FR', { 
    year: 'numeric', 
    month: 'long', 
    day: 'numeric' 
  });
};
---

<div class="content-status">
  <span class="badge" style={`background: ${current.bg}`}>
    {current.label} {version && `v${version}`}
  </span>
  <span class="date">Mis à jour : {formatDate(lastUpdated)}</span>
</div>

<style>
  .content-status {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 1rem;
    background: var(--sl-color-bg-sidebar);
    border-left: 3px solid var(--sl-color-accent);
    border-radius: 0.375rem;
    margin-bottom: 2rem;
    font-size: 0.875rem;
  }
  
  .badge {
    padding: 0.25rem 0.75rem;
    border-radius: 0.25rem;
    color: white;
    font-weight: 600;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .date {
    color: var(--sl-color-gray-3);
  }
  
  @media (max-width: 640px) {
    .content-status {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }
  }
</style>
