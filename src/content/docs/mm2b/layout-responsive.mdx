---
title: Layout et Responsive Design
description: Cr√©er des mises en page adaptatives
---

import { Card, CardGrid } from '@astrojs/starlight/components';
import LiveCode from '../../../components/mdx/LiveCode.astro';

## üìö Concepts cl√©s

Dans ce cours, vous allez apprendre √† :
- Approfondir Flexbox pour des layouts complexes
- D√©couvrir CSS Grid pour des compositions avanc√©es
- Cr√©er des sites responsive avec les media queries
- Rendre les images et media fluides

**Dur√©e** : 4 heures (1h th√©orie + 2h30 pratique + 30min Q&A)

---

## Rappel : Le Box Model

Avant d'aborder les layouts, un rappel sur le box model CSS :

```css
.box {
  width: 300px;
  height: 200px;
  padding: 20px;      /* Espace interne */
  border: 2px solid #000;
  margin: 10px;       /* Espace externe */
}
```

**Taille totale** = width + padding + border + margin

### `box-sizing: border-box`

Par d√©faut, `width` ne compte pas le padding et border. C'est souvent d√©routant !

```css
/* Mieux : inclure padding et border dans width */
* {
  box-sizing: border-box;
}

.box {
  width: 300px;        /* Largeur TOTALE incluant padding et border */
  padding: 20px;
  border: 2px solid #000;
}
```

:::tip[Bonne pratique]
Ajoutez `* { box-sizing: border-box; }` au d√©but de votre CSS. Cela facilite grandement le calcul des dimensions.
:::

---

## Flexbox : Approfondissement

Vous connaissez d√©j√† les bases de Flexbox. Allons plus loin.

### Rappel des concepts de base

```css
.container {
  display: flex;
  flex-direction: row;        /* Horizontal (d√©faut) */
  justify-content: flex-start; /* Alignement horizontal */
  align-items: stretch;        /* Alignement vertical */
  gap: 1rem;                   /* Espacement entre √©l√©ments */
}
```

### `flex-wrap` : Passer √† la ligne

```css
.container {
  display: flex;
  flex-wrap: wrap; /* Les items passent √† la ligne si pas assez de place */
  gap: 1rem;
}
```

**Exemple pratique** : Grille de cartes responsive

```css
.chapters-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 2rem;
}

.chapter-card {
  flex: 1 1 300px; /* grow, shrink, basis */
  /* Chaque carte fait minimum 300px, et grandit pour remplir l'espace */
}
```

### Propri√©t√© `flex` : Contr√¥ler la taille des items

```css
.item {
  flex: 1 1 200px;
}
/* 
  flex-grow: 1   ‚Üí peut grandir
  flex-shrink: 1 ‚Üí peut r√©tr√©cir
  flex-basis: 200px ‚Üí taille de base
*/
```

**Exemples pratiques** :

```css
/* Sidebar + Contenu principal */
.container {
  display: flex;
  gap: 2rem;
}

.sidebar {
  flex: 0 0 250px; /* Largeur fixe de 250px */
}

.main-content {
  flex: 1; /* Prend tout l'espace restant */
}
```

```css
/* 3 colonnes √©gales */
.three-columns {
  display: flex;
  gap: 1rem;
}

.column {
  flex: 1; /* Chaque colonne prend 1/3 de l'espace */
}
```

### `align-content` : Aligner les lignes

Quand `flex-wrap: wrap` cr√©√© plusieurs lignes :

```css
.container {
  display: flex;
  flex-wrap: wrap;
  align-content: space-between; /* Espace entre les lignes */
  height: 600px; /* N√©cessite une hauteur d√©finie */
}
```

### `order` : Changer l'ordre visuel

```css
.item-1 { order: 2; }
.item-2 { order: 1; }
.item-3 { order: 3; }
```

Utile pour r√©organiser visuellement sans toucher au HTML (par exemple en responsive).

### Exemple complet : Layout de page

```css
/* Layout global de la page */
body {
  display: flex;
  flex-direction: column;
  min-height: 100vh; /* Toute la hauteur de la fen√™tre */
}

header {
  flex: 0 0 auto; /* Ne grandit ni r√©tr√©cit */
}

main {
  flex: 1; /* Prend tout l'espace disponible */
}

footer {
  flex: 0 0 auto;
}
```

---

## CSS Grid : Cr√©er des grilles

CSS Grid excelle pour cr√©er des layouts en deux dimensions (lignes ET colonnes).

### Syntaxe de base

```css
.container {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr; /* 3 colonnes √©gales */
  grid-template-rows: auto;            /* Hauteur automatique */
  gap: 1rem;                           /* Espacement */
}
```

### Unit√© `fr` : Fraction de l'espace disponible

```css
/* 3 colonnes √©gales */
.grid {
  grid-template-columns: 1fr 1fr 1fr;
}

/* Colonne 1 = 2x plus large que colonnes 2 et 3 */
.grid {
  grid-template-columns: 2fr 1fr 1fr;
}

/* Mix de colonnes fixes et flexibles */
.grid {
  grid-template-columns: 250px 1fr 1fr; /* Sidebar fixe + 2 colonnes flexibles */
}
```

### `repeat()` : R√©p√©ter une d√©finition

```css
/* Au lieu de : 1fr 1fr 1fr 1fr */
.grid {
  grid-template-columns: repeat(4, 1fr); /* 4 colonnes √©gales */
}

/* Colonnes de minimum 250px, autant que possible */
.grid {
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}
```

### `auto-fit` et `auto-fill` : Grilles responsive

```css
.chapters-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}
```

Cette grille cr√©e automatiquement autant de colonnes que possible, chaque colonne faisant minimum 300px. **Magique pour le responsive !**

### Placer les items avec `grid-column` et `grid-row`

```css
.container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
}

/* Cet item occupe 2 colonnes */
.item-1 {
  grid-column: span 2; /* √âtend sur 2 colonnes */
}

/* Cet item occupe la largeur compl√®te */
.item-featured {
  grid-column: 1 / -1; /* De la ligne 1 √† la derni√®re ligne */
}

/* Cet item occupe 2 lignes */
.item-tall {
  grid-row: span 2;
}
```

### Exemple : Layout de galerie

```html
<div class="gallery">
  <div class="item featured">Image 1</div>
  <div class="item">Image 2</div>
  <div class="item">Image 3</div>
  <div class="item tall">Image 4</div>
  <div class="item">Image 5</div>
  <div class="item">Image 6</div>
</div>
```

```css
.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
}

.item {
  background: #f0f0f0;
  padding: 1rem;
}

.featured {
  grid-column: span 2; /* Occupe 2 colonnes */
  grid-row: span 2;    /* Occupe 2 lignes */
}

.tall {
  grid-row: span 2;
}
```

### Grid Areas : Nommer les zones

Pour des layouts complexes :

```css
.page-layout {
  display: grid;
  grid-template-areas:
    "header header header"
    "sidebar main main"
    "footer footer footer";
  grid-template-columns: 250px 1fr 1fr;
  gap: 1rem;
}

header { grid-area: header; }
.sidebar { grid-area: sidebar; }
main { grid-area: main; }
footer { grid-area: footer; }
```

---

## Responsive Web Design

Le responsive design consiste √† adapter votre site √† toutes les tailles d'√©cran.

### Approche Mobile-First

Commencez par designer pour mobile, puis ajoutez des styles pour √©crans plus grands.

```css
/* Styles de base (mobile) */
.container {
  padding: 1rem;
}

.columns {
  display: flex;
  flex-direction: column; /* Colonnes empil√©es sur mobile */
  gap: 1rem;
}

/* Tablettes et plus */
@media (min-width: 768px) {
  .container {
    padding: 2rem;
  }
  
  .columns {
    flex-direction: row; /* Colonnes c√¥te √† c√¥te sur tablette+ */
  }
}

/* Desktop et plus */
@media (min-width: 1024px) {
  .container {
    max-width: 1200px;
    margin: 0 auto;
  }
}
```

### Breakpoints recommand√©s

```css
/* Mobile par d√©faut (< 768px) */

/* Tablette */
@media (min-width: 768px) {
  /* Styles pour tablette */
}

/* Desktop */
@media (min-width: 1024px) {
  /* Styles pour desktop */
}

/* Large desktop */
@media (min-width: 1440px) {
  /* Styles pour grands √©crans */
}
```

### Exemple interactif : Navigation responsive avec Flexbox

<LiveCodeEditor example="mm2b/cours-3-layout/flexbox-navigation" height="650px" />

:::tip[Redimensionnez la fen√™tre !]
- **Mobile** : navigation verticale avec items empil√©s
- **Tablette** : navigation horizontale centr√©e
- **Desktop** : navigation spacieuse avec espacement optimal
:::

### Exemple : Grille de cartes responsive

```css
/* Mobile : 1 colonne */
.chapters-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
}

/* Tablette : 2 colonnes */
@media (min-width: 768px) {
  .chapters-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
  }
}

/* Desktop : 3 colonnes */
@media (min-width: 1024px) {
  .chapters-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}
```

### Exemple interactif : Grille CSS Grid automatiquement responsive

<LiveCodeEditor example="mm2b/cours-3-layout/grid-cartes" height="750px" />

:::tip[La magie de CSS Grid]
- Utilise `repeat(auto-fit, minmax(300px, 1fr))` pour cr√©er une grille automatiquement responsive
- **Aucune media query n√©cessaire !**
- La carte "featured" occupe 2 colonnes sur desktop avec `grid-column: span 2`
- Redimensionnez la fen√™tre pour voir la grille s'adapter automatiquement
:::

---

## Images et media responsives

### Images fluides

```css
/* Rendre toutes les images fluides */
img {
  max-width: 100%;
  height: auto;
  display: block;
}
```

### `object-fit` : Contr√¥ler le ratio d'aspect

```css
.chapter-thumbnail {
  width: 100%;
  height: 250px;
  object-fit: cover; /* Couvre la zone sans d√©formation */
  border-radius: 1rem;
}
```

Valeurs de `object-fit` :
- `cover` : couvre la zone (peut rogner)
- `contain` : contient l'image enti√®re (peut laisser des espaces)
- `fill` : √©tire l'image (peut d√©former)

### Vid√©o responsive

```css
video {
  max-width: 100%;
  height: auto;
}
```

### Iframe responsive (YouTube, Vimeo)

```html
<div class="video-container">
  <iframe src="https://www.youtube.com/embed/VIDEO_ID"></iframe>
</div>
```

```css
.video-container {
  position: relative;
  aspect-ratio: 16 / 9; /* Ratio 16:9 */
  background: black;
}

.video-container iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
}
```

---

## üí° Exemple complet : Layout responsive de site d'histoire

Voici un exemple complet combinant Flexbox, CSS Grid et responsive design :

<LiveCodeEditor example="mm2b/cours-3-layout/layout-complet" height="750px" />

:::tip[Points cl√©s de cet exemple]
- **Layout global** avec Flexbox : header sticky, main flexible, footer coll√© en bas
- **Sidebar responsive** : en haut sur mobile, √† gauche sur desktop
- **Navigation adaptative** : verticale sur mobile, horizontale sur desktop
- **Grille de chapitres** : 1 colonne (mobile) ‚Üí 2 colonnes (tablette) ‚Üí 3 colonnes (desktop)
- **Transitions** : effets hover sur les cartes et les liens
:::

---

## üéØ Objectifs du fil rouge (Cours 3)

Pendant la phase pratique, vous allez :

### 1. Analyser votre layout actuel (30 min)
- Identifiez les sections qui n√©cessitent un layout (grille, flex, etc.)
- Dessinez un sch√©ma de layout mobile vs desktop
- Planifiez vos breakpoints

### 2. Cr√©er un layout responsive avec Flexbox et/ou Grid (1h30)
- Layout global (header, main, footer)
- Navigation responsive
- Grille de contenu (chapitres, personnages, etc.)
- Sidebar si n√©cessaire

### 3. Rendre les images fluides (30 min)
- Appliquer `max-width: 100%` aux images
- Utiliser `object-fit` pour les thumbnails
- G√©rer les vid√©os/iframes responsive

### 4. Tester sur diff√©rentes tailles d'√©cran (1h)
- Utilisez les DevTools (F12 ‚Üí mode responsive)
- Testez mobile (375px), tablette (768px), desktop (1024px+)
- Ajustez les breakpoints si n√©cessaire
- V√©rifiez que tout est lisible et cliquable

---

## üîß Exercices dirig√©s

### Exercice 1 : Cr√©er une grille responsive

Cr√©ez une grille qui affiche :
- 1 colonne sur mobile
- 2 colonnes sur tablette
- 4 colonnes sur desktop

<details>
<summary>Voir la solution</summary>

```css
.grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

@media (min-width: 768px) {
  .grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .grid {
    grid-template-columns: repeat(4, 1fr);
  }
}
```

Ou version automatique :
```css
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
}
```
</details>

### Exercice 2 : Layout sidebar + contenu

Cr√©ez un layout avec :
- Sur mobile : sidebar en haut, puis contenu
- Sur desktop : sidebar √† gauche (250px fixe), contenu flexible

<details>
<summary>Voir la solution</summary>

```css
/* Mobile */
.page-layout {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.sidebar {
  /* Prend toute la largeur sur mobile */
}

.content {
  /* Prend toute la largeur sur mobile */
}

/* Desktop */
@media (min-width: 1024px) {
  .page-layout {
    flex-direction: row;
  }
  
  .sidebar {
    flex: 0 0 250px; /* Largeur fixe */
  }
  
  .content {
    flex: 1; /* Prend l'espace restant */
  }
}
```
</details>

---

## üìñ Ressources compl√©mentaires

### Flexbox
- [Flexbox Froggy](https://flexboxfroggy.com/#fr) : jeu pour apprendre Flexbox
- [A Complete Guide to Flexbox](https://css-tricks.com/snippets/css/a-guide-to-flexbox/) : guide complet

### CSS Grid
- [Grid Garden](https://cssgridgarden.com/#fr) : jeu pour apprendre Grid
- [A Complete Guide to Grid](https://css-tricks.com/snippets/css/complete-guide-grid/) : guide complet

### Responsive
- [Responsive Design - MDN](https://developer.mozilla.org/fr/docs/Learn/CSS/CSS_layout/Responsive_Design)
- [Media Queries](https://developer.mozilla.org/fr/docs/Web/CSS/Media_Queries)

### Outils
- [Responsively App](https://responsively.app/) : tester sur plusieurs tailles simultan√©ment
- Chrome DevTools : mode responsive (F12 ‚Üí ic√¥ne mobile)

---

## ‚úÖ Checklist de fin de cours

Avant le prochain cours, assurez-vous que :

- [ ] Votre site utilise Flexbox ou Grid pour le layout
- [ ] La navigation est responsive (verticale mobile, horizontale desktop)
- [ ] Les grilles de contenu s'adaptent aux diff√©rentes tailles
- [ ] Toutes les images sont fluides (`max-width: 100%`)
- [ ] Le site est fonctionnel sur mobile (375px), tablette (768px) et desktop (1024px+)
- [ ] Pas de scroll horizontal sur mobile
- [ ] Les textes sont lisibles sur toutes les tailles d'√©cran

---

## Questions fr√©quentes

### Flexbox ou Grid ?

- **Flexbox** : pour des layouts en une dimension (ligne OU colonne), navigation, alignements
- **Grid** : pour des layouts en deux dimensions (lignes ET colonnes), grilles de cartes
- **Les deux** : souvent combin√©s dans un m√™me projet !

### Mes media queries ne fonctionnent pas, pourquoi ?

V√©rifiez que vous avez le meta viewport dans votre `<head>` :
```html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```

### Quelle taille pour les breakpoints ?

Les valeurs courantes :
- Mobile : < 768px (par d√©faut)
- Tablette : 768px
- Desktop : 1024px
- Large desktop : 1440px

Mais adaptez selon votre contenu !

### Mobile-first, c'est obligatoire ?

Non, mais c'est recommand√© car :
- Vous forcez √† prioriser le contenu essentiel
- C'est plus facile d'ajouter que de retirer
- Meilleure performance mobile

---

## Prochaine √©tape

Dans le dernier cours, vous allez ajouter de l'interactivit√© avec CSS et JavaScript, et finaliser votre projet.

**[Cours 4 : Interactivit√© et Finalisation ‚Üí](/mm2b/interactivite-finalisation)**
