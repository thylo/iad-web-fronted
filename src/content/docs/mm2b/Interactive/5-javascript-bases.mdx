---
title: JavaScript
description: R√©f√©rence rapide JavaScript pour l'interactivit√©
---

import LiveCodeEditor from "../../../../components/mdx/LiveCodeEditor/LiveCodeEditor.astro";

## üí° Exemple interactif complet

Toggle de contenu avec chapitres et FAQ :

<LiveCodeEditor example="mm2b/cours-4-interactivite/toggle-contenu" height="750px" />

---

## üìã Inclure JavaScript

```html
<head>
  <script src="js/main.js" defer></script>
</head>
```

`defer` = charge apr√®s le HTML ‚úÖ

---

## üéØ S√©lectionner des √©l√©ments

```javascript
// Un seul √©l√©ment
const button = document.querySelector('.button');
const menu = document.querySelector('#menu');
const firstLink = document.querySelector('a');

// Tous les √©l√©ments
const allButtons = document.querySelectorAll('.button');
const allCards = document.querySelectorAll('.card');
```

---

## üé® Manipuler les classes

```javascript
const element = document.querySelector('.card');

// Ajouter
element.classList.add('active');

// Retirer
element.classList.remove('active');

// Basculer (toggle)
element.classList.toggle('active');

// V√©rifier
if (element.classList.contains('active')) {
  console.log('Actif !');
}
```

---

## üëÇ √âcouter des √©v√©nements

```javascript
const button = document.querySelector('.button');

// Click
button.addEventListener('click', () => {
  console.log('Cliqu√© !');
});

// Autres √©v√©nements
element.addEventListener('mouseenter', () => {});  // Souris entre
element.addEventListener('mouseleave', () => {});  // Souris sort
element.addEventListener('keydown', () => {});     // Touche press√©e
element.addEventListener('submit', () => {});      // Formulaire soumis
```

---

## üí° Exemples essentiels

### Toggle menu mobile

Voir l'exemple complet du menu burger :

<LiveCodeEditor example="mm2b/cours-4-interactivite/menu-burger" previewHeight="700px" />

```javascript
const menuButton = document.querySelector('.menu-toggle');
const nav = document.querySelector('.nav');

menuButton.addEventListener('click', () => {
  nav.classList.toggle('open');
});
```

```css
.nav {
  display: none;
}
.nav.open {
  display: block;
}
```

---

### Accordion / FAQ

```javascript
const questions = document.querySelectorAll('.faq-question');

questions.forEach(question => {
  question.addEventListener('click', () => {
    const answer = question.nextElementSibling;
    answer.classList.toggle('open');
  });
});
```

```css
.faq-answer {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}
.faq-answer.open {
  max-height: 500px;
}
```

---

### Smooth scroll vers section

```javascript
const links = document.querySelectorAll('.smooth-scroll');

links.forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault();
    const targetId = link.getAttribute('href');
    const target = document.querySelector(targetId);
    target.scrollIntoView({ behavior: 'smooth' });
  });
});
```

```html
<a href="#section1" class="smooth-scroll">Section 1</a>
<section id="section1">...</section>
```

---

### Tabs / Onglets

```javascript
const tabs = document.querySelectorAll('[data-tab]');
const contents = document.querySelectorAll('[data-content]');

tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    const target = tab.dataset.tab;

    // Retirer 'active' de tous
    tabs.forEach(t => t.classList.remove('active'));
    contents.forEach(c => c.classList.remove('active'));

    // Ajouter 'active' aux √©l√©ments cibl√©s
    tab.classList.add('active');
    document.querySelector(`[data-content="${target}"]`).classList.add('active');
  });
});
```

```html
<button data-tab="tab1">Tab 1</button>
<button data-tab="tab2">Tab 2</button>

<div data-content="tab1">Contenu 1</div>
<div data-content="tab2">Contenu 2</div>
```

---

### Modal / Popup

```javascript
const openModal = document.querySelector('.open-modal');
const closeModal = document.querySelector('.close-modal');
const modal = document.querySelector('.modal');

openModal.addEventListener('click', () => {
  modal.classList.add('active');
});

closeModal.addEventListener('click', () => {
  modal.classList.remove('active');
});

// Fermer au click en dehors
modal.addEventListener('click', (e) => {
  if (e.target === modal) {
    modal.classList.remove('active');
  }
});
```

```css
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
}
.modal.active {
  display: flex;
}
```

---

## üìù Manipuler le contenu

```javascript
const element = document.querySelector('.text');

// Changer le texte
element.textContent = 'Nouveau texte';

// Changer le HTML
element.innerHTML = '<strong>Texte en gras</strong>';

// Changer un attribut
element.setAttribute('data-id', '123');

// Lire un attribut
const id = element.getAttribute('data-id');

// Changer le style inline (√† √©viter, pr√©f√©rez les classes)
element.style.color = 'red';
```

---

## ‚ö° Exemples pratiques avec donn√©es

### Compteur

```javascript
let count = 0;
const counter = document.querySelector('.counter');
const btnPlus = document.querySelector('.btn-plus');
const btnMinus = document.querySelector('.btn-minus');

btnPlus.addEventListener('click', () => {
  count++;
  counter.textContent = count;
});

btnMinus.addEventListener('click', () => {
  count--;
  counter.textContent = count;
});
```

---

### Dark mode toggle

```javascript
const toggle = document.querySelector('.dark-mode-toggle');

toggle.addEventListener('click', () => {
  document.body.classList.toggle('dark-theme');

  // Sauvegarder la pr√©f√©rence
  const isDark = document.body.classList.contains('dark-theme');
  localStorage.setItem('darkMode', isDark);
});

// Charger la pr√©f√©rence au d√©marrage
if (localStorage.getItem('darkMode') === 'true') {
  document.body.classList.add('dark-theme');
}
```

---

## üîë Gestion du clavier

```javascript
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    // Fermer modal, menu, etc.
    modal.classList.remove('active');
  }

  if (e.key === 'Enter') {
    // Soumettre formulaire
  }
});
```

**Touches courantes** :
- `'Enter'`, `'Escape'`, `'Tab'`
- `'ArrowUp'`, `'ArrowDown'`, `'ArrowLeft'`, `'ArrowRight'`
- `' '` (espace)

---

## ‚ö†Ô∏è Bonnes pratiques

‚úÖ **√Ä faire** :
- `defer` sur les scripts
- V√©rifier que l'√©l√©ment existe avant manipulation
- Utiliser `classList` plut√¥t que `style` inline
- Event delegation pour listes dynamiques

‚ùå **√Ä √©viter** :
- Trop de JavaScript inline dans le HTML
- Manipuler le DOM dans une boucle
- Oublier de retirer les event listeners

<details>
<summary>V√©rifier l'existence d'un √©l√©ment</summary>

```javascript
const element = document.querySelector('.element');

if (element) {
  // L'√©l√©ment existe, on peut le manipuler
  element.classList.add('active');
} else {
  console.log('√âl√©ment non trouv√©');
}
```
</details>

---

## üß™ Template complet

```html
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>JS Example</title>
  <script src="js/main.js" defer></script>
  <style>
    .box { padding: 2rem; background: #eee; }
    .box.active { background: #667eea; color: white; }
  </style>
</head>
<body>
  <button class="toggle-btn">Toggle</button>
  <div class="box">Cliquez le bouton</div>
</body>
</html>
```

```javascript
// js/main.js
const button = document.querySelector('.toggle-btn');
const box = document.querySelector('.box');

button.addEventListener('click', () => {
  box.classList.toggle('active');
});
```

---
